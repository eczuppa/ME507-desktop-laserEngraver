<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Desktop Laser Engraver: TB6612FNGDual Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Desktop Laser Engraver
   &#160;<span id="projectnumber">Version 0.01</span>
   </div>
   <div id="projectbrief">A Nucleo L476RG based CNC desktop CoreXY Laser Engraver</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classTB6612FNGDual.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classTB6612FNGDual-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">TB6612FNGDual Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a77825158d6185d2a3ea4a6d1bbccb81d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTB6612FNGDual.html#a77825158d6185d2a3ea4a6d1bbccb81d">TB6612FNGDual</a> (uint8_t stby_pin, uint8_t mot1_pin_1, uint8_t mot1_pin_2, uint8_t a_pwm_pin1, uint8_t a_tim_chan_num1, uint8_t mot2_pin_, uint8_t mot2_pin_2, uint8_t a_pwm_pin2, uint8_t a_tim_chan_num2, TIM_TypeDef *_p_timer)</td></tr>
<tr class="memdesc:a77825158d6185d2a3ea4a6d1bbccb81d"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classTB6612FNGDual.html">TB6612FNGDual</a> Constructor.  <a href="classTB6612FNGDual.html#a77825158d6185d2a3ea4a6d1bbccb81d">More...</a><br /></td></tr>
<tr class="separator:a77825158d6185d2a3ea4a6d1bbccb81d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b43d9949e273f492e53c2db47daaa1e"><td class="memItemLeft" align="right" valign="top"><a id="a0b43d9949e273f492e53c2db47daaa1e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setDutyCycle</b> (int8_t duty_cycle)</td></tr>
<tr class="separator:a0b43d9949e273f492e53c2db47daaa1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adae4859b47844cae7cb70f3d730b839b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTB6612FNGDual.html#adae4859b47844cae7cb70f3d730b839b">setDutyCycle</a> (int8_t duty_cycle1, int8_t duty_cycle2)</td></tr>
<tr class="memdesc:adae4859b47844cae7cb70f3d730b839b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class method for setting the duty cycle of the attached motor via the H-bridge output.  <a href="classTB6612FNGDual.html#adae4859b47844cae7cb70f3d730b839b">More...</a><br /></td></tr>
<tr class="separator:adae4859b47844cae7cb70f3d730b839b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a609ebe38397d8fa1788e274b91a2be08"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTB6612FNGDual.html#a609ebe38397d8fa1788e274b91a2be08">brake</a> (void)</td></tr>
<tr class="memdesc:a609ebe38397d8fa1788e274b91a2be08"><td class="mdescLeft">&#160;</td><td class="mdescRight">method to brake motors  <a href="classTB6612FNGDual.html#a609ebe38397d8fa1788e274b91a2be08">More...</a><br /></td></tr>
<tr class="separator:a609ebe38397d8fa1788e274b91a2be08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2943cbf246d180c83ffa6ac844093b36"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTB6612FNGDual.html#a2943cbf246d180c83ffa6ac844093b36">disable</a> (void)</td></tr>
<tr class="memdesc:a2943cbf246d180c83ffa6ac844093b36"><td class="mdescLeft">&#160;</td><td class="mdescRight">software E-Stop for dual H-bridge chip  <a href="classTB6612FNGDual.html#a2943cbf246d180c83ffa6ac844093b36">More...</a><br /></td></tr>
<tr class="separator:a2943cbf246d180c83ffa6ac844093b36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9f47a3594cb3722205e6329cbfcc710"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTB6612FNGDual.html#ae9f47a3594cb3722205e6329cbfcc710">enable</a> (void)</td></tr>
<tr class="memdesc:ae9f47a3594cb3722205e6329cbfcc710"><td class="mdescLeft">&#160;</td><td class="mdescRight">software reset for dual H-bridge chip after being disabled  <a href="classTB6612FNGDual.html#ae9f47a3594cb3722205e6329cbfcc710">More...</a><br /></td></tr>
<tr class="separator:ae9f47a3594cb3722205e6329cbfcc710"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ad3ed7f4b026ba644b7e3deca3e74d742"><td class="memItemLeft" align="right" valign="top"><a id="ad3ed7f4b026ba644b7e3deca3e74d742"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>_motor1_dir_pin_1</b></td></tr>
<tr class="separator:ad3ed7f4b026ba644b7e3deca3e74d742"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48b058991f3cafd11e08ddde48b86595"><td class="memItemLeft" align="right" valign="top"><a id="a48b058991f3cafd11e08ddde48b86595"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>_motor1_dir_pin_2</b></td></tr>
<tr class="separator:a48b058991f3cafd11e08ddde48b86595"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae234601380d7a8aad9cb058133948452"><td class="memItemLeft" align="right" valign="top"><a id="ae234601380d7a8aad9cb058133948452"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>_motor2_dir_pin_1</b></td></tr>
<tr class="separator:ae234601380d7a8aad9cb058133948452"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70952cee1d1acfd2c2fe05ea62605eca"><td class="memItemLeft" align="right" valign="top"><a id="a70952cee1d1acfd2c2fe05ea62605eca"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>_motor2_dir_pin_2</b></td></tr>
<tr class="separator:a70952cee1d1acfd2c2fe05ea62605eca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a206ab32a728d2bedc72f69c9ed06dc48"><td class="memItemLeft" align="right" valign="top"><a id="a206ab32a728d2bedc72f69c9ed06dc48"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>_pwm_input_pin1</b></td></tr>
<tr class="separator:a206ab32a728d2bedc72f69c9ed06dc48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff0a80f4c60a7e735ec2ad2cfdd49d55"><td class="memItemLeft" align="right" valign="top"><a id="aff0a80f4c60a7e735ec2ad2cfdd49d55"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>_pwm_input_pin2</b></td></tr>
<tr class="separator:aff0a80f4c60a7e735ec2ad2cfdd49d55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2099572c517c18b2fbecf2eba2fcd875"><td class="memItemLeft" align="right" valign="top"><a id="a2099572c517c18b2fbecf2eba2fcd875"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>_standby_pin</b></td></tr>
<tr class="separator:a2099572c517c18b2fbecf2eba2fcd875"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6da61b2a33645dbfa1802015ab6406e4"><td class="memItemLeft" align="right" valign="top"><a id="a6da61b2a33645dbfa1802015ab6406e4"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>_pwm_tim_chan_num1</b></td></tr>
<tr class="separator:a6da61b2a33645dbfa1802015ab6406e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a318a68f21fb2c35136a8ce8fb234b2cd"><td class="memItemLeft" align="right" valign="top"><a id="a318a68f21fb2c35136a8ce8fb234b2cd"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>_pwm_tim_chan_num2</b></td></tr>
<tr class="separator:a318a68f21fb2c35136a8ce8fb234b2cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6922521a228ca4460cd11c32f1516e53"><td class="memItemLeft" align="right" valign="top"><a id="a6922521a228ca4460cd11c32f1516e53"></a>
TIM_TypeDef *&#160;</td><td class="memItemRight" valign="bottom"><b>_p_timer</b></td></tr>
<tr class="separator:a6922521a228ca4460cd11c32f1516e53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a431a8bd1777e246dd02c22bcda609e72"><td class="memItemLeft" align="right" valign="top"><a id="a431a8bd1777e246dd02c22bcda609e72"></a>
HardwareTimer *&#160;</td><td class="memItemRight" valign="bottom"><b>MotorTmr</b></td></tr>
<tr class="separator:a431a8bd1777e246dd02c22bcda609e72"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a77825158d6185d2a3ea4a6d1bbccb81d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77825158d6185d2a3ea4a6d1bbccb81d">&#9670;&nbsp;</a></span>TB6612FNGDual()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TB6612FNGDual::TB6612FNGDual </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>stby_pin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>mot1_pin_1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>mot1_pin_2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>a_pwm_pin1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>a_tim_chan_num1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>mot2_pin_1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>mot2_pin_2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>a_pwm_pin2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>a_tim_chan_num2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TIM_TypeDef *&#160;</td>
          <td class="paramname"><em>_p_timer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classTB6612FNGDual.html">TB6612FNGDual</a> Constructor. </p>
<p>Saves instances of class memeber data for all required input pins to run both H-bridges on the motor driver chip and brings the h-bridge into the enabled, LOW state were all outputs are zeroed out to ensure nothing starts moving unexpectedly. Also sets up the hardware timer to send out PWM pulses at 20kHz (so motors are quiet) and sets the intial duty_cylce to zero. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_standby_pin</td><td>the digital pin that send the enable/disable singal to the dual H-bridge </td></tr>
    <tr><td class="paramname">_motor_dir_pin_1</td><td>the digital pin that maps to the IN1 motor direction input on 1 of the H-bridges </td></tr>
    <tr><td class="paramname">_motor_dir_pin_2</td><td>the digital pin that maps to the IN2 motor direction input on 1 of the H-bridges </td></tr>
    <tr><td class="paramname">_pwm_input_pin</td><td>the pin from the microcontroller that is then configured to be attached to the specifed hardware timer </td></tr>
    <tr><td class="paramname">_pwm_tim_chan_num</td><td>the channel number (1,2,3, or 4) of the timer specified that is attached to the pwm input pin </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a609ebe38397d8fa1788e274b91a2be08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a609ebe38397d8fa1788e274b91a2be08">&#9670;&nbsp;</a></span>brake()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TB6612FNGDual::brake </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>method to brake motors </p>
<p>based on the truth table for the <a class="el" href="classTB6612FNG.html" title="a motor driver class that is specific to Toshiba&#39;s TB6612FNG motor driver IC">TB6612FNG</a> driver chip and sparkfun's arduino library for this IC </p>

</div>
</div>
<a id="a2943cbf246d180c83ffa6ac844093b36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2943cbf246d180c83ffa6ac844093b36">&#9670;&nbsp;</a></span>disable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TB6612FNGDual::disable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>software E-Stop for dual H-bridge chip </p>
<p>drives the ouput of the standby pin LOW, which disables the dual H-bridge IC entirely </p>

</div>
</div>
<a id="ae9f47a3594cb3722205e6329cbfcc710"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9f47a3594cb3722205e6329cbfcc710">&#9670;&nbsp;</a></span>enable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TB6612FNGDual::enable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>software reset for dual H-bridge chip after being disabled </p>
<p>drives the output of the standby pin HIGH, which enables the dual H-bridge IC </p>

</div>
</div>
<a id="adae4859b47844cae7cb70f3d730b839b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adae4859b47844cae7cb70f3d730b839b">&#9670;&nbsp;</a></span>setDutyCycle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TB6612FNGDual::setDutyCycle </td>
          <td>(</td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>duty_cycle1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>duty_cycle2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Class method for setting the duty cycle of the attached motor via the H-bridge output. </p>
<p>takes in the duty cycle as a precentage (-100% to 100%) and sets the motor direction and speed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">duty_cycle</td><td>provided by a separate class or the user directly, a signed 8 bit integer that is the precentage representation of the desired duty cycle: -100% to 100% </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="TB66__Dual__Driver_8h_source.html">TB66_Dual_Driver.h</a></li>
<li>TB66_Dual_Driver.cpp</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classTB6612FNGDual.html">TB6612FNGDual</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
