<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Desktop Laser Engraver: TB6612FNG Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Desktop Laser Engraver
   &#160;<span id="projectnumber">Version 0.01</span>
   </div>
   <div id="projectbrief">A Nucleo L476RG based CNC desktop CoreXY Laser Engraver</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classTB6612FNG-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">TB6612FNG Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>a motor driver class that is specific to Toshiba's <a class="el" href="classTB6612FNG.html" title="a motor driver class that is specific to Toshiba&#39;s TB6612FNG motor driver IC">TB6612FNG</a> motor driver IC  
 <a href="classTB6612FNG.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="TB6612FNG__Driver_8h_source.html">TB6612FNG_Driver.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac64e7929d50cb5a5a65560a508b7eeeb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTB6612FNG.html#ac64e7929d50cb5a5a65560a508b7eeeb">TB6612FNG</a> (uint8_t stby_pin, uint8_t mot_pin_1, uint8_t mot_pin_2, uint8_t a_pwm_pin)</td></tr>
<tr class="memdesc:ac64e7929d50cb5a5a65560a508b7eeeb"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classTB6612FNG.html" title="a motor driver class that is specific to Toshiba&#39;s TB6612FNG motor driver IC">TB6612FNG</a> Constructor.  <a href="classTB6612FNG.html#ac64e7929d50cb5a5a65560a508b7eeeb">More...</a><br /></td></tr>
<tr class="separator:ac64e7929d50cb5a5a65560a508b7eeeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8caf6e53fb50d08cf9a040cae07368df"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTB6612FNG.html#a8caf6e53fb50d08cf9a040cae07368df">setDutyCycle</a> (int8_t duty_cycle)</td></tr>
<tr class="memdesc:a8caf6e53fb50d08cf9a040cae07368df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class method for setting the duty cycle of the attached motor via the H-bridge output.  <a href="classTB6612FNG.html#a8caf6e53fb50d08cf9a040cae07368df">More...</a><br /></td></tr>
<tr class="separator:a8caf6e53fb50d08cf9a040cae07368df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78dea8dd2d7582890836f408a8b03fa7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTB6612FNG.html#a78dea8dd2d7582890836f408a8b03fa7">brake</a> (void)</td></tr>
<tr class="memdesc:a78dea8dd2d7582890836f408a8b03fa7"><td class="mdescLeft">&#160;</td><td class="mdescRight">method to brake motors  <a href="classTB6612FNG.html#a78dea8dd2d7582890836f408a8b03fa7">More...</a><br /></td></tr>
<tr class="separator:a78dea8dd2d7582890836f408a8b03fa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcd1e675d1503ef08c892383f73f2e60"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTB6612FNG.html#abcd1e675d1503ef08c892383f73f2e60">disable</a> (void)</td></tr>
<tr class="memdesc:abcd1e675d1503ef08c892383f73f2e60"><td class="mdescLeft">&#160;</td><td class="mdescRight">software E-Stop for dual H-bridge chip  <a href="classTB6612FNG.html#abcd1e675d1503ef08c892383f73f2e60">More...</a><br /></td></tr>
<tr class="separator:abcd1e675d1503ef08c892383f73f2e60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72097126a93a29f924cb78a1204840d0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTB6612FNG.html#a72097126a93a29f924cb78a1204840d0">enable</a> (void)</td></tr>
<tr class="memdesc:a72097126a93a29f924cb78a1204840d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">software reset for dual H-bridge chip after being disabled  <a href="classTB6612FNG.html#a72097126a93a29f924cb78a1204840d0">More...</a><br /></td></tr>
<tr class="separator:a72097126a93a29f924cb78a1204840d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a007ab41bca62847708ca2f42d60413e8"><td class="memItemLeft" align="right" valign="top"><a id="a007ab41bca62847708ca2f42d60413e8"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTB6612FNG.html#a007ab41bca62847708ca2f42d60413e8">_motor_dir_pin_1</a></td></tr>
<tr class="memdesc:a007ab41bca62847708ca2f42d60413e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Motor Direction Pin 1 (Enables for which direciton the motor will rotate in) <br /></td></tr>
<tr class="separator:a007ab41bca62847708ca2f42d60413e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dc120bfa12ef9042d8114c38c56c6be"><td class="memItemLeft" align="right" valign="top"><a id="a9dc120bfa12ef9042d8114c38c56c6be"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTB6612FNG.html#a9dc120bfa12ef9042d8114c38c56c6be">_motor_dir_pin_2</a></td></tr>
<tr class="memdesc:a9dc120bfa12ef9042d8114c38c56c6be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Motor Direction Pin 2 (Enables for which direciton the motor will rotate in) <br /></td></tr>
<tr class="separator:a9dc120bfa12ef9042d8114c38c56c6be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d10a2b72f258bc9e6e81a8f29fa24dc"><td class="memItemLeft" align="right" valign="top"><a id="a5d10a2b72f258bc9e6e81a8f29fa24dc"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTB6612FNG.html#a5d10a2b72f258bc9e6e81a8f29fa24dc">_pwm_input_pin</a></td></tr>
<tr class="memdesc:a5d10a2b72f258bc9e6e81a8f29fa24dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Motor Driver PWM input pin (Sets speed at which motor is driven) <br /></td></tr>
<tr class="separator:a5d10a2b72f258bc9e6e81a8f29fa24dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1cbb05f2437cca3752d71311a6d6341"><td class="memItemLeft" align="right" valign="top"><a id="ac1cbb05f2437cca3752d71311a6d6341"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTB6612FNG.html#ac1cbb05f2437cca3752d71311a6d6341">_standby_pin</a></td></tr>
<tr class="memdesc:ac1cbb05f2437cca3752d71311a6d6341"><td class="mdescLeft">&#160;</td><td class="mdescRight">Motor Driver Standby Pin (Enable Pin for H-Bridge) <br /></td></tr>
<tr class="separator:ac1cbb05f2437cca3752d71311a6d6341"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>a motor driver class that is specific to Toshiba's <a class="el" href="classTB6612FNG.html" title="a motor driver class that is specific to Toshiba&#39;s TB6612FNG motor driver IC">TB6612FNG</a> motor driver IC </p>
<p>makes use of arduino commands to create a simple driver that interfaces with toshiba's <a class="el" href="classTB6612FNG.html" title="a motor driver class that is specific to Toshiba&#39;s TB6612FNG motor driver IC">TB6612FNG</a> dual H-bridge motor driver IC. The PWM signal generation is handeled by the Arduino <code>analogWrite()</code> and the direction pin settings for changing the direction of the motor is done with Arduino's <code>digitalWrite</code>. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac64e7929d50cb5a5a65560a508b7eeeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac64e7929d50cb5a5a65560a508b7eeeb">&#9670;&nbsp;</a></span>TB6612FNG()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TB6612FNG::TB6612FNG </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>stby_pin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>mot_pin_1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>mot_pin_2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>a_pwm_pin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classTB6612FNG.html" title="a motor driver class that is specific to Toshiba&#39;s TB6612FNG motor driver IC">TB6612FNG</a> Constructor. </p>
<p>Saves instances of class memeber data for all required input pins to run one H-bridge on the motor driver chip and brings the h-bridge into the enabled, LOW state were all outputs are zeroed out to ensure nothing starts moving unexpectedly. Also sets up the hardware timer to send out PWM pulses at 20kHz (so motors are quiet) and sets the intial duty_cylce to zero. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_standby_pin</td><td>the digital pin that send the enable/disable singal to the dual H-bridge </td></tr>
    <tr><td class="paramname">_motor_dir_pin_1</td><td>the digital pin that maps to the IN1 motor direction input on 1 of the H-bridges </td></tr>
    <tr><td class="paramname">_motor_dir_pin_2</td><td>the digital pin that maps to the IN2 motor direction input on 1 of the H-bridges </td></tr>
    <tr><td class="paramname">_pwm_input_pin</td><td>the pin from the microcontroller that is then configured to be attached to the specifed hardware timer </td></tr>
    <tr><td class="paramname">_pwm_tim_chan_num</td><td>the channel number (1,2,3, or 4) of the timer specified that is attached to the pwm input pin </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a78dea8dd2d7582890836f408a8b03fa7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78dea8dd2d7582890836f408a8b03fa7">&#9670;&nbsp;</a></span>brake()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TB6612FNG::brake </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>method to brake motors </p>
<p>based on the truth table for the <a class="el" href="classTB6612FNG.html" title="a motor driver class that is specific to Toshiba&#39;s TB6612FNG motor driver IC">TB6612FNG</a> driver chip and sparkfun's arduino library for this IC </p>

</div>
</div>
<a id="abcd1e675d1503ef08c892383f73f2e60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcd1e675d1503ef08c892383f73f2e60">&#9670;&nbsp;</a></span>disable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TB6612FNG::disable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>software E-Stop for dual H-bridge chip </p>
<p>drives the ouput of the standby pin LOW, which disables the dual H-bridge IC entirely </p>

</div>
</div>
<a id="a72097126a93a29f924cb78a1204840d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72097126a93a29f924cb78a1204840d0">&#9670;&nbsp;</a></span>enable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TB6612FNG::enable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>software reset for dual H-bridge chip after being disabled </p>
<p>drives the output of the standby pin HIGH, which enables the dual H-bridge IC </p>

</div>
</div>
<a id="a8caf6e53fb50d08cf9a040cae07368df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8caf6e53fb50d08cf9a040cae07368df">&#9670;&nbsp;</a></span>setDutyCycle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TB6612FNG::setDutyCycle </td>
          <td>(</td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>duty_cycle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Class method for setting the duty cycle of the attached motor via the H-bridge output. </p>
<p>takes in the duty cycle as a precentage (-100% to 100%) and sets the motor direction and speed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">duty_cycle</td><td>provided by a separate class or the user directly, a signed 8 bit integer that is the precentage representation of the desired duty cycle: -100% to 100% </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="TB6612FNG__Driver_8h_source.html">TB6612FNG_Driver.h</a></li>
<li><a class="el" href="TB6612FNG__Driver_8cpp.html">TB6612FNG_Driver.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
