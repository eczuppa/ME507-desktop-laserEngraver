<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DigitalCarpenter - Lite: TB6612FNG_Driver.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DigitalCarpenter - Lite
   &#160;<span id="projectnumber">Version 0.01</span>
   </div>
   <div id="projectbrief">A Nucleo L476RG based CNC Desktop CoreXY Laser Cutter &amp; Engraver</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('TB6612FNG__Driver_8cpp.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">TB6612FNG_Driver.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="TB6612FNG__Driver_8h_source.html">TB6612FNG_Driver.h</a>&quot;</code><br />
<code>#include &lt;Arduino.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for TB6612FNG_Driver.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="TB6612FNG__Driver_8cpp__incl.png" border="0" usemap="#TB6612FNG__Driver_8cpp" alt=""/></div>
</div>
</div><a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file implements the <a class="el" href="classTB6612FNG.html" title="a motor driver class that is specific to Toshiba&#39;s TB6612FNG motor driver IC">TB6612FNG</a> class for the Toshiba dual H-bridge motor driver chip</p>
<dl class="section author"><dt>Author</dt><dd>Ethan A Czuppa </dd></dl>
<dl class="section date"><dt>Date</dt><dd>6 Nov 2020 Created file for class implementation of <a class="el" href="classTB6612FNG.html" title="a motor driver class that is specific to Toshiba&#39;s TB6612FNG motor driver IC">TB6612FNG</a> motor driver IC with doxygen comments</dd></dl>
<p>This file implements the <a class="el" href="classTB6612FNG.html" title="a motor driver class that is specific to Toshiba&#39;s TB6612FNG motor driver IC">TB6612FNG</a> class for the Toshiba dual H-bridge motor driver chip</p>
<dl class="section author"><dt>Author</dt><dd>Ethan A Czuppa</dd></dl>
<dl class="section date"><dt>Date</dt><dd>6 Nov 6:32PM 2020 Created file for class implementation of <a class="el" href="classTB6612FNG.html" title="a motor driver class that is specific to Toshiba&#39;s TB6612FNG motor driver IC">TB6612FNG</a> motor driver IC with doxygen comments </dd>
<dd>
7 Nov 12:23AM 2020 finished first version of motor driver, needs to be updated to accept more refrences since many inputs are predefined objects (pin names, other classes, etc. ) Also I need to figure out how to pass the instantiation of the hardware timer class to through this class (e.g. TIM1, TIM2, TIM3, etc) so that the timer can be changed as needed instead of being set in the header file as it is currently. </dd>
<dd>
10 Nov 2020 Got help from Dr. Ridgely for how to correctly pass timer objects into this class and was able to get it to the level of portability I desired. Motors work, though they are not particularly quiet due to being contained in what amounts to 3D printed echo chambers, but the slight increase in complexity for more capability than <code>analogWrite()</code> was worth the effort. Especially given the added garuntee that pins are correctly being put in their alternate function modes. </dd>
<dd>
15 Nov 2020 Added brake method to try to do power and brake vs power and coast driving style for the motors. This was taken from sparkfun's arduino Library for the <a class="el" href="classTB6612FNG.html" title="a motor driver class that is specific to Toshiba&#39;s TB6612FNG motor driver IC">TB6612FNG</a> from: <a href="https://github.com/sparkfun/SparkFun_TB6612FNG_Arduino_Library/blob/master/src/SparkFun_TB6612.cpp">https://github.com/sparkfun/SparkFun_TB6612FNG_Arduino_Library/blob/master/src/SparkFun_TB6612.cpp</a> However, I am not sure how to implement this method into our PID controller... perhaps something that is watching for the erorr to drop to a certain threshold and then instead of settting the PWM singal to 0 and allowing the motor to coast, the short brake method is called. Also, given its name - short brake - in the truth table I am skeptical of how effective it would be in the first place. </dd></dl>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="TB6612FNG__Driver_8cpp.html">TB6612FNG_Driver.cpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
